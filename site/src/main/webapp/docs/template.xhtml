<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:t="http://tornadofaces.io/ui">
<f:view transient="true">
    <h:head>
        <title>TornadoFaces - Modern JSF Component Framework</title>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <h:outputScript library="js" name="fastclick.min.js"/>
        <h:outputScript library="js" name="perfect-scrollbar.jquery.min.js"/>
        <h:outputScript library="js" name="prism.js"/>
        <h:outputStylesheet library="css" name="prism.css"/>
        <h:outputStylesheet library="css" name="perfect-scrollbar.css"/>
        <!--<h:outputStylesheet library="css" name="docs.css"/>-->
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,600" type="text/css" media="all" />
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
                $('.menu-toggle').click(function() {
                    var futureState = !$('#left-menu-container').hasClass('is-active');
                    TornadoFaces.animate($('#left-menu-container'), futureState, 'slideInRight', 'slideOutLeft');
                });

//                var scrollables = $('#left-menu, #main-container');
//                scrollables.perfectScrollbar();
//                $(window).on('resize', function() {
//                    scrollables.perfectScrollbar('update');
//                });
            }, false);

            var filterFn = function(item, query) {
                return item.text().toUpperCase().indexOf(query.toUpperCase()) > -1;
            };

            function searchComponents(q) {
                var items = $('#left-menu').children();
                var query = $(q).val();

                for (var idx = 0; idx &lt; items.length; idx++) {
                    var item = $(items[idx]);

                    if (filterFn(item, query)) {
                        item.show();
                    } else {
                        item.hide();
                    }
                }
            }

            function popoutHandler() {
                $(this).toggleClass('popout-active');
            };
            function bindPopout(todo, toBind) {
                if(todo == 'bind') {
                    console.log('bind');
                    toBind.bind('click', popoutHandler);
                }else if (todo == 'unbind') {
                    console.log('unbind');
                    toBind.unbind('click', popoutHandler);
                }
            }

            $(function() {
                var popouts = $('.popout');
                var leftMenu = $('#left-menu-container');

                $('#sidemenuToggle').click(function() {
                    leftMenu.toggleClass('sidemenu--collapsed');
                    if(leftMenu.hasClass('sidemenu--collapsed')) {
                        bindPopout('bind', popouts)
                    }else {
                        bindPopout('unbind', popouts)
                    }
                    popouts.removeClass('popout-active');
                });
            });
        </script>
    </h:head>
    <h:body>
        <!-- Notification and modal needs to be above the grid-frame -->
        <t:notification id="notification" widgetVar="notification" timeout="3000"/>
        <t:modal widgetVar="mymodal" id="mymodal" color="dark">
            <h3>Modal Window</h3>

            <p>Enter your name: <h:inputText value="#{modalController.name}"/></p>
            <a class="button success close">Save</a>
        </t:modal>

        <div class="grid-frame">
            <div id="left-menu-container" class="sidemenu medium-grid-block panel panel-left medium-3 bounceInOut">
                <a id="sidemenuToggle" class="sidemenu-toggle"><i class="icon-back"></i></a>
                <div id="left-menu" class="sidemenu-content grid-content collapse">
                    <div class="sidemenu-logo">
                        <img class="logo-max" src="/resources/img/logo-tornado-faces-01.svg"/>
                        <img class="logo-min" src="/resources/img/logo-tornado-faces-symbol.svg"/>
                    </div>
                    <div class="sidemenu-search">
                        <input class="show-for-medium" type="text" placeholder="Filter..." onkeyup="searchComponents(this)"/>
                    </div>
                    <ui:param name="path" value="#{view.viewId}"/>
                    <t:ul styleClass="sidemenu-items" orientation="vertical" id="left-menu" color="dark">
                        <t:li title="true">
                            <a href="#">
                                <i class="icon-information"></i>
                                <span class="item-text">General</span>
                            </a>
                            <t:ul styleClass="sidemenu-subitems">
                                <t:li link="/docs/index.xhtml">Introduction</t:li>
                                <t:li link="/docs/theme/">Themes</t:li>
                                <t:li link="/docs/icons/">Icons</t:li>
                            </t:ul>
                        </t:li>
                        <t:li active="true" styleClass="popout">
                            <a href="#">
                                <i class="icon-applist"></i>
                                <span class="item-text">Components</span>
                            </a>
                            <t:ul styleClass="sidemenu-subitems">
                                <t:li link="/docs/accordion/">Accordion</t:li>
                                <t:li link="/docs/actionsheet/">Action Sheet</t:li>
                                <t:li link="/docs/breadcrumb/">Breadcrumbs</t:li>
                                <t:li link="/docs/button/">Button</t:li>
                                <t:li link="/docs/card/">Card</t:li>
                                <t:li link="/docs/colorpicker/">Color Picker</t:li>
                                <t:li link="/docs/contextmenu/">Context Menu</t:li>
                                <t:li link="/docs/datepicker/">Date Picker</t:li>
                                <t:li link="/docs/flip-panel/">Flip Panel</t:li>
                                <t:li link="/docs/form-element/">Form Element</t:li>
                                <t:li link="/docs/grid/">Grid</t:li>
                                <t:li link="/docs/list/">List</t:li>
                                <t:li link="/docs/li/">List Item</t:li>
                                <t:li link="/docs/menubar/">Menu Bar</t:li>
                                <t:li link="/docs/message/">Message</t:li>
                                <t:li link="/docs/modal/">Modal</t:li>
                                <t:li link="/docs/notification/">Notification</t:li>
                                <t:li link="/docs/panel/">Panel</t:li>
                                <t:li link="/docs/progress/">Progress</t:li>
                                <t:li link="/docs/sidemenu/">Side Menu</t:li>
                                <t:li link="/docs/slider/">Slider</t:li>
                                <t:li link="/docs/switch/">Switch</t:li>
                                <t:li link="/docs/tab/">Tab</t:li>
                                <t:li link="/docs/tabview/">TabView</t:li>
                                <t:li link="/docs/titlebar/">Title Bar</t:li>
                                <t:li link="/docs/ul/">Unordered List</t:li>
                            </t:ul>
                        </t:li>
                        <t:li title="true">
                            <a href="#">
                                <i class="icon-wand"></i>
                                <span class="item-text">Helpers</span>
                            </a>
                            <t:ul styleClass="sidemenu-subitems">
                                <t:li link="/docs/command/">Command</t:li>
                                <t:li link="/docs/configure/">Configure</t:li>
                                <t:li link="/docs/gid/">Global Ids</t:li>
                                <t:li link="/docs/data/">Data</t:li>
                                <t:li link="/docs/poll/">Poll</t:li>
                            </t:ul>
                        </t:li>
                    </t:ul>
                </div>
            </div>
            <div id="main-container">
                <div id="header" class="menu-group main-max-width">
                    <div class="menu-group-left grid-block">
                        <i class="menu-toggle icon-navigation hide-for-medium"></i>
                    </div>
                    <div class="menu-group-right">
                        <t:ul menuBar="true" id="quick-links">
                            <li><a href="http://github.com/edvin/tornadofaces/issues"><i class="icon-list-fill"></i><span class="show-for-medium">Issues</span></a></li>
                            <li><a href="http://github.com/edvin/tornadofaces"><i class="icon-github-alt"></i><span class="show-for-medium">GitHub</span></a></li>
                        </t:ul>
                    </div>
                </div>
                <t:ul breadcrumb="true">
                    <ui:insert name="breadcrumb"/>
                </t:ul>
                <div class="main-wrapper main-max-width">
                    <main>
                        <ui:insert name="content"/>
                    </main>
                </div>
            </div>
        </div>
    </h:body>
</f:view>
</html>